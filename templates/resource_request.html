{% extends 'base.html' %}

{% block title %}Request Item - LifeLine{% endblock %}

{% block content %}
<div class="w-full max-w-2xl mx-auto py-8 px-6">
  <h2 class="text-2xl font-semibold mb-4">Request Item</h2>

  <div class="p-4 rounded-xl bg-slate-800 border border-slate-700 mb-6">
    <h3 class="text-lg font-semibold">{{ resource.title }}</h3>
    <div class="text-sm text-slate-400">{{ resource.category }} Â· {{ resource.quantity or 'Quantity not specified' }}</div>
    {% if resource.description %}
    <p class="mt-2 text-sm text-slate-300">{{ resource.description }}</p>
    {% endif %}
    <div class="mt-2 text-xs text-slate-400">Shared by {{ resource.user.name if resource.user else 'Unknown' }}</div>
    {% if resource.user.email %}
    <div class="mt-1 text-xs text-slate-400">Contact: {{ resource.user.email }}</div>
    {% endif %}
  </div>

  <form method="post" class="space-y-4">
    <div>
      <label class="block text-sm text-slate-300 mb-2">Message to owner <span class="text-red-400">*</span></label>
      <textarea name="message" rows="4" class="w-full px-3 py-2 bg-slate-800 border border-slate-700 rounded" placeholder="Tell the owner why you need this item..." required></textarea>
    </div>

    <div class="flex items-center gap-3">
      <button type="submit" class="px-4 py-2 rounded bg-sky-500 text-slate-900 font-medium hover:bg-sky-600">Send Request</button>
      <a href="{{ url_for('resources.list_resources') }}" class="px-3 py-2 rounded bg-slate-700 hover:bg-slate-600">Cancel</a>
      {% if resource.user.id != session.get('user_id') %}
      <a href="{{ url_for('chat_with_user', other_user_id=resource.user.id) }}" class="px-4 py-2 rounded bg-purple-600 text-white font-medium hover:bg-purple-700">Contact Owner</a>
      {% endif %}
    </div>
  </form>
</div>
{% endblock %}
