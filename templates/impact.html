{% extends "base.html" %}
{% block content %}

<div class="max-w-6xl mx-auto px-6 py-10">
  <h1 class="text-3xl font-bold text-white mb-2">
    {{ title }}
  </h1>

  <p class="text-gray-400 mb-6">
    This graph shows verified contributions made through community events.
  </p>

  <canvas id="impactChart" height="120"></canvas>
</div>

<script src="https://cdn.jsdelivr.net/npm/chart.js"></script>

<script>
const ctx = document.getElementById("impactChart");

new Chart(ctx, {
  type: "line",
  data: {
    labels: {{ labels|tojson }},
    datasets: [
      {
        label: "Volunteer Hours",
        data: {{ hours|tojson }},
        borderWidth: 2,
        tension: 0.4
      },
      {
        label: "Items Shared",
        data: {{ items|tojson }},
        borderWidth: 2,
        tension: 0.4
      },
      {
        label: "Carbon Saved (kg)",
        data: {{ carbon|tojson }},
        borderWidth: 2,
        tension: 0.4
      }
    ]
  },
  options: {
    plugins: {
      legend: {
        labels: { color: "white" }
      }
    },
    scales: {
      x: { ticks: { color: "white" } },
      y: { ticks: { color: "white" } }
    }
  }
});
</script>

{% endblock %}
